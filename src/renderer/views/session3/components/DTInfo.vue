<template>
  <el-card class="data-card">
    <template #header>
      <div style="text-align: center; margin: auto;">
        <h3>具有成本复杂性修剪的后修剪决策树</h3>
      </div>
    </template>

    <el-scrollbar height="500px">
      <p style="text-indent:2em;padding: 0px 10% 0px 10%;">
        在本系统中的决策树中，为了防止决策树的过渡拟合，提供了剪枝技术的成本复杂函数，并将其参数化为ccp_alpha，其值越大，决策树中修剪的节点数将会越多。其可以简单表达为：
      </p>
      <div style="text-align:center;">
        <math-jax latex="R_a(T)=R(T)+\alpha|\tilde{T}|" />
      </div>
      <div style="text-indent:2em;padding: 0px 10% 0px 10%;">
        <h3>结论</h3>
        <li>在居民用电背景下，剪枝复杂函数的ccf_alpha值在0~0.05之间效果最好</li>
        <li>如果完全没有剪枝，该模型将有较大概率会过拟合</li>
        <li>推荐调整参数ccf_alpha在0~0.05之间，最高不超过0.15，因为在ccf_alpha>0.15时模型性能下降较快，这是因为剪掉了较好的节点</li>
      </div>

      <br>
      <h3 style="text-align:center;">准确率随ccf_alpha的变化</h3>

      <!-- 后修剪决策树-->
      <v-chart autoresize :option="option_column1" style="height: 500px"></v-chart>

    </el-scrollbar>

  </el-card>

</template>


<script setup>
import { reactive, ref, onMounted, watch } from 'vue'
const option_column1 = reactive({
  title: {
    text: '',
  },
  legend: {
    data: ['训练集准确率', '测试集准确率', 'Naive Bayes + Sigmoid'],
  },
  tooltip: {
    trigger: 'axis',
  },
  xAxis: {
    type: 'category',
    data: [
      0.0, 0.01, 0.02, 0.03, 0.04, 0.051, 0.061, 0.071, 0.081, 0.091, 0.101,
      0.111, 0.121, 0.131, 0.141, 0.152, 0.162, 0.172, 0.182, 0.192, 0.202,
      0.212, 0.222, 0.232, 0.242, 0.253, 0.263, 0.273, 0.283, 0.293, 0.303,
      0.313, 0.323, 0.333, 0.343, 0.354, 0.364, 0.374, 0.384, 0.394, 0.404,
      0.414, 0.424, 0.434, 0.444, 0.455, 0.465, 0.475, 0.485, 0.495, 0.505,
      0.515, 0.525, 0.535, 0.545, 0.556, 0.566, 0.576, 0.586, 0.596, 0.606,
      0.616, 0.626, 0.636, 0.646, 0.657, 0.667, 0.677, 0.687, 0.697, 0.707,
      0.717, 0.727, 0.737, 0.747, 0.758, 0.768, 0.778, 0.788, 0.798, 0.808,
      0.818, 0.828, 0.838, 0.848, 0.859, 0.869, 0.879, 0.889, 0.899, 0.909,
      0.919, 0.929, 0.939, 0.949, 0.96, 0.97, 0.98, 0.99, 1.0,
    ],
  },

  yAxis: {
    type: 'value',
  },
  series: [
    {
      name: '训练集准确率',
      data: [
        1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.97, 0.97, 0.97, 0.97, 0.97, 0.97, 0.97,
        0.97, 0.97, 0.97, 0.97, 0.97, 0.97, 0.97, 0.97, 0.836, 0.836, 0.836,
        0.836, 0.836, 0.836, 0.836, 0.836, 0.836, 0.836, 0.836, 0.836, 0.836,
        0.836, 0.836, 0.836, 0.418, 0.418, 0.418, 0.418, 0.418, 0.418, 0.418,
        0.418, 0.418, 0.418, 0.418, 0.418, 0.418, 0.418, 0.418, 0.418, 0.418,
        0.418, 0.418, 0.418, 0.418, 0.418, 0.418, 0.418, 0.418, 0.418, 0.418,
        0.418, 0.418, 0.418, 0.418, 0.418, 0.418, 0.418, 0.418, 0.418, 0.418,
        0.418, 0.418, 0.418, 0.418, 0.418, 0.418, 0.418, 0.418, 0.418, 0.418,
        0.418, 0.418, 0.418, 0.418, 0.418, 0.418, 0.418, 0.418, 0.418, 0.418,
        0.418, 0.418, 0.418, 0.418, 0.418, 0.418,
      ],
      type: 'line',
    },
    {
      name: '测试集准确率',
      data: [
        1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.97, 0.97, 0.97, 0.97, 0.97, 0.97, 0.97,
        0.97, 0.97, 0.97, 0.97, 0.97, 0.97, 0.97, 0.97, 0.758, 0.758, 0.758,
        0.758, 0.758, 0.758, 0.758, 0.758, 0.758, 0.758, 0.758, 0.758, 0.758,
        0.758, 0.758, 0.758, 0.424, 0.424, 0.424, 0.424, 0.424, 0.424, 0.424,
        0.424, 0.424, 0.424, 0.424, 0.424, 0.424, 0.424, 0.424, 0.424, 0.424,
        0.424, 0.424, 0.424, 0.424, 0.424, 0.424, 0.424, 0.424, 0.424, 0.424,
        0.424, 0.424, 0.424, 0.424, 0.424, 0.424, 0.424, 0.424, 0.424, 0.424,
        0.424, 0.424, 0.424, 0.424, 0.424, 0.424, 0.424, 0.424, 0.424, 0.424,
        0.424, 0.424, 0.424, 0.424, 0.424, 0.424, 0.424, 0.424, 0.424, 0.424,
        0.424, 0.424, 0.424, 0.424, 0.424, 0.424,
      ],
      type: 'line',
    },
  ],
})
</script>

<style>
</style>
